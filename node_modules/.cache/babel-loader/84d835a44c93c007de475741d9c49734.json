{"ast":null,"code":"var _jsxFileName = \"/Users/jeremyd/Projects/userlist/src/components/home.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'; //import Table from 'react-bootstrap/Table';\n\nimport Pagination from 'react-bootstrap/Pagination';\n\nconst User = ({\n  user,\n  handleDelete,\n  handleEdit\n}) => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, user.first_name), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}, user.last_name), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, user.age), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, user.gender), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(\"button\", {\n  type: \"button\",\n  className: \"btn btn-outline-primary\",\n  id: \"edit-btn\",\n  onClick: () => handleEdit(user._id),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, React.createElement(\"i\", {\n  className: \"fas fa-edit\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}), \"Edit\")), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, React.createElement(\"button\", {\n  type: \"button\",\n  className: \"btn btn-outline-secondary\",\n  id: \"delete-btn\",\n  onClick: () => handleDelete(user._id),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}, React.createElement(\"i\", {\n  className: \"fas fa-trash-alt\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25\n  },\n  __self: this\n}), \"Delete\")));\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.isMatch = user => {\n      return user.first_name.search(new RegExp(this.state.search, \"i\")) !== -1 || user.last_name.search(new RegExp(this.state.search, \"i\")) !== -1 || user.gender.search(new RegExp(\"^\" + this.state.search + \"$\", \"i\")) !== -1;\n    };\n\n    this.handleDelete = userId => {\n      this.props.deleteUser(userId);\n    };\n\n    this.handleEdit = id => {\n      this.props.getDetail(id);\n      this.props.history.push(\"/edit/\".concat(id));\n    };\n\n    this.handleClickAdd = () => {\n      this.props.history.push(\"/add\");\n    };\n\n    this.sortFirst = () => {\n      const _this$state = this.state,\n            firstAcen = _this$state.firstAcen,\n            users = _this$state.users;\n      let newArr = users;\n\n      if (firstAcen) {\n        newArr.sort((o1, o2) => {\n          return o1.first_name.localeCompare(o2.first_name);\n        });\n      } else {\n        newArr.sort((o1, o2) => {\n          return o2.first_name.localeCompare(o1.first_name);\n        });\n      }\n\n      this.setState({\n        users: newArr,\n        firstAcen: !firstAcen\n      });\n    };\n\n    this.sortLast = () => {\n      const _this$state2 = this.state,\n            lastAcen = _this$state2.lastAcen,\n            users = _this$state2.users;\n      let newArr = users;\n\n      if (lastAcen) {\n        newArr.sort((o1, o2) => {\n          return o1.last_name.localeCompare(o2.last_name);\n        });\n      } else {\n        newArr.sort((o1, o2) => {\n          return o2.last_name.localeCompare(o1.last_name);\n        });\n      }\n\n      this.setState({\n        users: newArr,\n        lastAcen: !lastAcen\n      });\n    };\n\n    this.sortSex = () => {\n      const _this$state3 = this.state,\n            sexAcen = _this$state3.sexAcen,\n            users = _this$state3.users;\n      let newArr = users;\n\n      if (sexAcen) {\n        newArr.sort((o1, o2) => {\n          return o1.gender.localeCompare(o2.gender);\n        });\n      } else {\n        newArr.sort((o1, o2) => {\n          return o2.gender.localeCompare(o1.gender);\n        });\n      }\n\n      this.setState({\n        users: newArr,\n        sexAcen: !sexAcen\n      });\n    };\n\n    this.sortAge = () => {\n      const _this$state4 = this.state,\n            ageAcen = _this$state4.ageAcen,\n            users = _this$state4.users;\n      let newArr = users;\n\n      if (ageAcen) {\n        newArr.sort((o1, o2) => {\n          return Number(o1.age) - Number(o2.age);\n        });\n      } else {\n        newArr.sort((o1, o2) => {\n          return Number(o2.age) - Number(o1.age);\n        });\n      }\n\n      this.setState({\n        users: newArr,\n        ageAcen: !ageAcen\n      });\n    };\n\n    this.state = {\n      users: [],\n      search: \"\",\n      firstAcen: true,\n      lastAcen: true,\n      sexAcen: true,\n      ageAcen: true\n    };\n  }\n\n  componentDidMount() {\n    this.props.getList();\n    this.setState({\n      users: this.props.users\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      users: nextProps.users\n    });\n  }\n\n  render() {\n    const _this$state5 = this.state,\n          firstAcen = _this$state5.firstAcen,\n          lastAcen = _this$state5.lastAcen,\n          ageAcen = _this$state5.ageAcen,\n          sexAcen = _this$state5.sexAcen;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"input\",\n      onChange: this.handleChange,\n      placeholder: \"Search...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      onClick: this.sortFirst,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, firstAcen ? React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), \"First Name\"), React.createElement(\"th\", {\n      onClick: this.sortLast,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, lastAcen ? React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), \"Last Name\"), React.createElement(\"th\", {\n      onClick: this.sortAge,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, ageAcen ? React.createElement(\"i\", {\n      class: \"fas fa-sort-numeric-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      class: \"fas fa-sort-numeric-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), \"Age\"), React.createElement(\"th\", {\n      onClick: this.sortSex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, sexAcen ? React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      class: \"fas fa-sort-alpha-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), \"Gender\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Delete\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.users.filter(user => this.isMatch(user)).map((eachUser, idx) => {\n      return React.createElement(User, {\n        user: eachUser,\n        key: idx,\n        handleDelete: this.handleDelete,\n        handleEdit: this.handleEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Pagination.First, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(Pagination.Prev, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(Pagination.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, 1), React.createElement(Pagination.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, 2), React.createElement(Pagination.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, 3), React.createElement(Pagination.Next, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(Pagination.Last, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }))));\n  }\n\n} //connect redux to component\n\n\nconst mapStateToProps = state => ({\n  users: state.list.data,\n  detail: state.detail.data,\n  err: state.list.err\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getList: () => {\n    dispatch(actions.getList());\n  },\n  deleteUser: userId => {\n    dispatch(actions.deleteUser(userId));\n  },\n  getDetail: userId => {\n    dispatch(actions.getDetail(userId));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/jeremyd/Projects/userlist/src/components/home.js"],"names":["React","connect","actions","Pagination","User","user","handleDelete","handleEdit","first_name","last_name","age","gender","_id","Home","Component","constructor","props","handleChange","e","setState","search","target","value","isMatch","RegExp","state","userId","deleteUser","id","getDetail","history","push","handleClickAdd","sortFirst","firstAcen","users","newArr","sort","o1","o2","localeCompare","sortLast","lastAcen","sortSex","sexAcen","sortAge","ageAcen","Number","componentDidMount","getList","componentWillReceiveProps","nextProps","render","filter","map","eachUser","idx","mapStateToProps","list","data","detail","err","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\n//import Table from 'react-bootstrap/Table';\nimport Pagination from 'react-bootstrap/Pagination'\n\n\nconst User = ({user, handleDelete, handleEdit}) => (\n    <tr >\n        <td>{user.first_name}</td>\n        <td>{user.last_name}</td>\n        <td>{user.age}</td>\n        <td>{user.gender}</td>\n        <td>\n        <button type=\"button\" className=\"btn btn-outline-primary\" id=\"edit-btn\" onClick = {() => handleEdit(user._id)}>\n            <i className=\"fas fa-edit\" />\n            Edit\n        </button>\n        </td>\n        \n        <td>\n        <button type=\"button\" className=\"btn btn-outline-secondary\" id=\"delete-btn\" onClick = {() => handleDelete(user._id)}>\n            <i className=\"fas fa-trash-alt\" />\n            Delete\n        </button>\n        </td>\n    </tr>\n)\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            search: \"\",\n            firstAcen : true,\n            lastAcen : true,\n            sexAcen : true,\n            ageAcen : true\n        };\n    }\n    \n    componentDidMount() {\n        this.props.getList();\n        this.setState({ users: this.props.users });\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({users: nextProps.users});\n    }\n\n    handleChange = e => {\n        this.setState({ search: e.target.value });\n    }\n\n    isMatch = (user) => {\n        return(\n            user.first_name.search(new RegExp(this.state.search, \"i\")) !== -1 || \n            user.last_name.search(new RegExp(this.state.search, \"i\")) !== -1 || \n            user.gender.search(new RegExp(\"^\"+this.state.search+\"$\", \"i\")) !== -1     \n        )\n    }\n\n    handleDelete = (userId) => {\n        this.props.deleteUser(userId);\n    }\n\n    handleEdit = (id) => {\n        this.props.getDetail(id);\n        this.props.history.push(`/edit/${id}`);    \n    }\n\n    handleClickAdd = () => {\n        this.props.history.push(\"/add\");\n    };\n\n    sortFirst = () => {\n        const {firstAcen, users} = this.state\n        let newArr = users;\n        if(firstAcen) {\n            newArr.sort((o1, o2) => {\n                return o1.first_name.localeCompare(o2.first_name);\n            })\n        }\n        else {\n            newArr.sort((o1, o2) => {\n                return o2.first_name.localeCompare(o1.first_name);\n            })\n        }\n        this.setState({users : newArr , firstAcen : !firstAcen}) \n    }\n\n    sortLast = () => {\n        const {lastAcen, users} = this.state\n        let newArr = users;\n        if(lastAcen) {\n            newArr.sort((o1, o2) => {\n                return o1.last_name.localeCompare(o2.last_name);\n            })\n        }\n        else {\n            newArr.sort((o1, o2) => {\n                return o2.last_name.localeCompare(o1.last_name);\n            })\n        }\n        this.setState({users : newArr , lastAcen : !lastAcen}) \n    }\n\n    sortSex = () => {\n        const {sexAcen, users} = this.state\n        let newArr = users;\n        if(sexAcen) {\n            newArr.sort((o1, o2) => {\n                return o1.gender.localeCompare(o2.gender);\n            })\n        }\n        else {\n            newArr.sort((o1, o2) => {\n                return o2.gender.localeCompare(o1.gender);\n            })\n        }\n        this.setState({users : newArr , sexAcen : !sexAcen}) \n    }\n\n    sortAge = () => {\n        const {ageAcen, users} = this.state\n        let newArr = users;\n        if(ageAcen) {\n            newArr.sort((o1, o2) => {\n                return Number(o1.age) - Number(o2.age);\n            })\n        }\n        else {\n            newArr.sort((o1, o2) => {\n                return Number(o2.age) - Number(o1.age);\n            })\n        }\n        this.setState({users : newArr , ageAcen : !ageAcen}) \n    }\n\n    render(){\n        const {firstAcen , lastAcen, ageAcen , sexAcen} = this.state;\n\n        return (  \n            <div> \n                <div>\n                    <input type=\"text\" className=\"input\" onChange={this.handleChange} placeholder=\"Search...\" />\n                </div>\n                <Table striped bordered hover >\n                    <thead>\n                        <tr>\n                            <th onClick = {this.sortFirst}>{firstAcen? <i class=\"fas fa-sort-alpha-up\"></i> : <i class=\"fas fa-sort-alpha-down\"></i>}First Name</th>\n                            <th onClick = {this.sortLast}>{lastAcen? <i class=\"fas fa-sort-alpha-up\"></i> : <i class=\"fas fa-sort-alpha-down\"></i>}Last Name</th>\n                            <th onClick = {this.sortAge}>{ageAcen? <i class=\"fas fa-sort-numeric-up\"></i> : <i class=\"fas fa-sort-numeric-down\"></i>}Age</th>\n                            <th onClick = {this.sortSex}>{sexAcen? <i class=\"fas fa-sort-alpha-up\"></i> : <i class=\"fas fa-sort-alpha-down\"></i>}Gender</th>\n                            \n                            <th>Edit</th>\n                            <th>Delete</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        { \n                            this.state.users.filter((user) => this.isMatch(user)).map((eachUser, idx) => {\n                                return (<User \n                                    user = {eachUser} \n                                    key = {idx} \n                                    handleDelete={this.handleDelete} \n                                    handleEdit={this.handleEdit}\n                                />);\n                            })\n                        }\n                    </tbody>\n                </Table>\n                <div>\n                <Pagination>\n                    <Pagination.First />\n                    <Pagination.Prev />\n                    <Pagination.Item>{1}</Pagination.Item>\n                    <Pagination.Item>{2}</Pagination.Item>\n                    <Pagination.Item>{3}</Pagination.Item>\n                    <Pagination.Next />\n                    <Pagination.Last />\n                    </Pagination>\n                </div>               \n            </div>\n    \n        ); \n    \n    }\n}\n\n//connect redux to component\nconst mapStateToProps = state => (\n    {\n        users: state.list.data,\n        detail: state.detail.data,\n        err: state.list.err\n    }\n);\n\nconst mapDispatchToProps = dispatch => (\n    {\n        getList: () => {\n            dispatch(actions.getList());\n        },\n        deleteUser: (userId) => {\n            dispatch(actions.deleteUser(userId));\n        },\n        getDetail: (userId) => {\n            dispatch(actions.getDetail(userId));\n        }\n    }\n);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}